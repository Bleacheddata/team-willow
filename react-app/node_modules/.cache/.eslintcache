[{"/Users/Masood/OneDrive/Maynooth_4thYear_Hdip/Software Project/team-willow/react-app/src/index.js":"1","/Users/Masood/OneDrive/Maynooth_4thYear_Hdip/Software Project/team-willow/react-app/src/App.js":"2","/Users/Masood/OneDrive/Maynooth_4thYear_Hdip/Software Project/team-willow/react-app/src/CardPacks.js":"3","/Users/Masood/OneDrive/Maynooth_4thYear_Hdip/Software Project/team-willow/react-app/src/login/Register.js":"4","/Users/Masood/OneDrive/Maynooth_4thYear_Hdip/Software Project/team-willow/react-app/src/login/Login.js":"5"},{"size":227,"mtime":1650298164398,"results":"6","hashOfConfig":"7"},{"size":3390,"mtime":1653566998835,"results":"8","hashOfConfig":"7"},{"size":7136,"mtime":1653654108387,"results":"9","hashOfConfig":"7"},{"size":4429,"mtime":1653654599557,"results":"10","hashOfConfig":"7"},{"size":2685,"mtime":1653654393016,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","suppressedMessages":"14","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"15"},"1xzpt5",{"filePath":"16","messages":"17","suppressedMessages":"18","errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"19"},{"filePath":"20","messages":"21","suppressedMessages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"24"},{"filePath":"25","messages":"26","suppressedMessages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28"},{"filePath":"29","messages":"30","suppressedMessages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"24"},"/Users/Masood/OneDrive/Maynooth_4thYear_Hdip/Software Project/team-willow/react-app/src/index.js",[],[],["33","34"],"/Users/Masood/OneDrive/Maynooth_4thYear_Hdip/Software Project/team-willow/react-app/src/App.js",["35","36","37","38","39","40","41","42","43"],[],"\nimport React from \"react\";\n// import { Switch, Redirect, Route } from 'react-router';\nimport { Routes, Redirect, Route } from 'react-router';\nimport axios from \"axios\";\nimport { Navbar, Container } from \"react-bootstrap\";\nimport { BrowserRouter, Link } from \"react-router-dom\";\nimport Login from \"./login/Login\";\nimport Register from \"./login/Register\";\nimport CardPacks from \"./CardPacks\";\nimport \"./styles.css\";\nexport default class App extends React.Component {\n  constructor(props){\n    super(props);\n  \n    this.authorizeUser = this.authorizeUser.bind(this);\n    this.updateLogIn = this.updateLogIn.bind(this)\n    this.state = {\n      loggedIn : false\n    }\n  }\n\n  updateLogIn () {\n    this.setState({\n      loggedIn: true\n    })\n  }\n  \n  componentDidMount() {\n\n\n        this.authorizeUser();\n       \n    \n  }\n  authorizeUser() {\n    let token = localStorage.getItem(\"token\")\n   \n   \n     if(token!=undefined || token!=null && this.state.loggedIn==false) {\n      axios.get('http://127.0.0.1:8001/user', {\n        headers: {\n          'Authorization': token\n        }\n      })\n      .then((res) => {\n        console.log(token);\n       console.log(res);\n       this.setState({loggedIn : true});\n      })\n      .catch((error) => {\n        console.error(error);\n        this.setState({loggedIn : false});\n      })\n     }\n\n    \n  }\n \n  render() {\n    return (\n      <BrowserRouter>\n\n      \n      \n        <NavBar loggedIn = {this.state.loggedIn} updateLogIn = {this.updateLogIn}/>\n\n       \n        <Routes>\n        <Route path=\"*\" element={<NotFound />} />\n          <Route exact path=\"/\" element={<Home loggedIn = {this.state.loggedIn} />}></Route>\n\n          {this.state.loggedIn === false && \n          <>\n          <Route exact path=\"/login\" element={<Login />}></Route>\n          <Route exact path=\"/register\" element={<Register />}></Route>\n          </>\n          }\n          {this.state.loggedIn === true && \n          <Route exact path=\"/user/cardpacks\" element={<CardPacks/>}></Route>\n          }\n\n        </Routes>\n\n      \n     \n     \n      </BrowserRouter>\n    );\n  }\n}\nclass NotFound extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    return (\n    <div className = \"NotFound\">\n      <h1>Error 404</h1>\n      <h2>Page Not Found</h2>\n        <Link to=\"/\">Go Home</Link>\n    </div>\n  )\n    }\n}\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    return (\n      <div className=\"Home\">\n        {\" \"}\n        <h1>Welcome to the game</h1>\n       \n        {this.props.loggedIn === true && \n        <Link to=\"/user/cardpacks\">Open Card Packs</Link>\n       }\n\n       {this.props.loggedIn === false && \n        <Link to=\"/login\">Get Started</Link>\n       }  \n      </div>\n    );\n  }\n}\nclass NavBar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.logOut = this.logOut.bind(this);\n  }\n\n  logOut() {\n    localStorage.clear();\n    window.location.replace(\"/\");\n  }\n\n  render() {\n    return (\n      <div className=\"NavBar\">\n        \n\n        <Link to=\"/\">Home</Link>\n\n        <>\n        Duel Legends\n\n        </>\n        \n        {this.props.loggedIn === false && \n         <Link to=\"/login\">Log In</Link>\n        }\n       \n\n        {this.props.loggedIn === true && \n          <button onClick = {this.logOut}>Log out</button>\n        }\n        \n\n      \n      </div>\n    );\n  }\n}\n","/Users/Masood/OneDrive/Maynooth_4thYear_Hdip/Software Project/team-willow/react-app/src/CardPacks.js",["44","45","46","47"],[],"import React from \"react\";\nimport axios from \"axios\";\nimport swal from 'sweetalert';\n\n//component that displays purchasing card packs, opening card packs and displays the cards once opened \nexport default class CardPacks extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        cardPack:  [],\n        packCount: 0,\n        gold: 0\n      };\n  \n\n      \n      this.getUserData = this.getUserData.bind(this);\n      this.openPack = this.openPack.bind(this);\n      this.onHover = this.onHover.bind(this);\n      this.onLeaveHover = this.onLeaveHover.bind(this);\n      this.onClick = this.onClick.bind(this);\n      this.buyPack = this.buyPack.bind(this);\n    }\n\n\n    // once the component has been loaded successfully, call getUserData()\n     componentDidMount() {\n      this.getUserData();\n\n     }\n\n     //get the loggedin users pack count and gold from the server, and toggles the buying and open pack buttons \n      getUserData() {\n      \n        let token = localStorage.getItem(\"token\")\n   \n   \n     if(token!=undefined || token!=null) {\n      axios.get('http://127.0.0.1:8001/user', {\n        headers: {\n          'Authorization': token\n        }\n      })\n      .then((res) => {\n        this.setState({\n          packCount: res.data.packs,\n          gold: res.data.gold\n        });\n        console.log(this.state.packCount);\n        if(this.state.packCount<=0) {\n          document.getElementById(\"btn-packopen\").setAttribute(\"disabled\", \"disabled\");\n        }\n        else {\n          document.getElementById(\"btn-packopen\").removeAttribute(\"disabled\");\n        }\n        if(this.state.gold<100) {\n          document.getElementById(\"btn-buypack\").setAttribute(\"disabled\", \"disabled\");\n        }\n        else {\n          document.getElementById(\"btn-buypack\").removeAttribute(\"disabled\");\n        }\n\n      })\n      .catch((error) => {\n        console.error(error);\n       \n      })\n     }\n     \n     \n     \n      \n      \n    }\n    \n\n    render() {\n      return (\n      <div className=\"CardPacks\">\n         \n        \n     \n       {/* buttons and headings for buying and opening packs */}\n       <div className = \"cardpack_menu\">\n        \n        <div className = \"cardpack_heading\">\n        <div>  <img src = \"https://github.com/Bleacheddata/team-willow/blob/master/react-app/src/images/card_icon.png?raw=true\" className = \"menu-icon\" />{this.state.packCount} card packs remaining</div>\n         <div>  <img src = \"https://github.com/Bleacheddata/team-willow/blob/master/react-app/src/images/dollar-coin.png?raw=true\"className = \"menu-icon\" /> {this.state.gold} remaining</div>\n        </div>\n      \n       \n    \n         <button id = \"btn-buypack\" onClick={this.buyPack}>Buy Card Packs</button>\n          <button id = \"btn-packopen\" onClick={this.openPack}>Open Card Pack</button>\n          </div>\n\n\n          {/* cards container utilizing a flexbox, maps over the card */}\n          <div className=\"cards-container\">\n            {this.state.cardPack != [] && \n             this.state.cardPack.map((i, index) => (\n\n              //card container\n              <div key = {`card ${index}`} className={`card disabled`}>\n                <div\n                  id={index}\n                  className={`card-content ${i.rarity}`}\n                  onMouseEnter={() => this.onHover(index)}\n                  onMouseLeave={() => this.onLeaveHover(index)}\n                  onClick={() => this.onClick(index)}\n                >\n                  <div className={`cardframe back`}>\n                    <img\n                      className=\"back-icon\"\n                      src=\"https://uploads.codesandbox.io/uploads/user/adb5b6ff-3d37-4b52-b8d5-25098bc45d0a/DoYE-back_icon.png\"\n                      width=\"150px\"\n                      alt=\"\"\n                    />\n                  </div>\n  \n                  <div\n                    key={index + \"Front\"}\n                    id={index + \"Front\"}\n                    className={`cardframe front ${i.name}`}\n                  >\n                 \n                    <div className = \"card-front-content\">\n                    <h2 className=\"power white\"> {i.power} </h2>\n                    <div className={`cardmid white`}>\n                      <img\n                        className=\"front-icon\"\n                        src=\"https://raw.githubusercontent.com/Bleacheddata/team-willow/4c8078c552029b1113077c393bce2b10f59d87de/src/images/generatorIcon.svg\"\n                        width=\"100px\"\n                        alt=\"\"\n                      />\n                    </div>\n  \n                    <h2 className=\"cardbottom white\">\n                      {i.rarity} <br />\n                      {i.name}\n                    </h2>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n           \n          </div>\n        </div>\n       \n         \n      );\n    }\n  \n    \n    // while hovering over a card\n    onHover(id) {\n      let card = document.getElementById(id);\n      card.classList.add(\"hover\");\n    }\n\n     // when leaving over a card\n    onLeaveHover(id) {\n      let card = document.getElementById(id);\n      card.classList.remove(\"hover\");\n    }\n    //when clicked \n    onClick(id) {\n      let card = document.getElementById(id);\n      card.classList.remove(\"hover\");\n      card.classList.add(\"rotate\");\n    }\n\n\n  //sents a PUT request which increments the gold amount of the user by 100 and increments the users pack count\n    async buyPack(event) {\n\n       if (this.state.gold>=100) {\n      axios.put('http://127.0.0.1:8001/user/gold', \"\", {\n        headers: {\n          'Authorization': localStorage.getItem(\"token\")\n        }\n      })\n      .then((res) => {\n        swal({\n          text: res.data,\n          icon: \"success\"\n        });\n        this.getUserData();\n      })\n      .catch((err) => {\n        swal({\n          text: err,\n          icon: \"error\",\n        });\n      })\n    }\n       else if (this.state.gold<100) {\n        event.target.setAttribute(\"disabled\", \"disabled\");\n      }\n      \n    }\n\n    //sents a PUT request which decrements the pack count and is responded with an array containing 5 card objects  \n  async openPack(event) {\n    if(this.state.packCount>=1) {\n\n      \n      \n       \n      \n    axios.put('http://127.0.0.1:8001/user/cardpacks', \"\",{\n      headers: {\n        'Authorization': localStorage.getItem(\"token\")\n      }\n    })\n    .then((res) => {\n      this.setState({ cardPack: []});\n      this.setState({\n                cardPack: res.data.concat(),\n                packCount : this.state.packCount-1\n           });\n      this.getUserData();\n\n\n      let cards = document.getElementsByClassName(\"card\");\n      for (let i= 0; i < cards.length; i++) {\n        \n       setTimeout(function() {\n\n         cards.item(i).classList.remove(\"disabled\");\n         cards.item(i).classList.add(\"roll-in-blurred-left\");\n   \n     \n      \n\n       }, 1000*i);\n      }\n      \n    })\n    .catch((err) => {\n      console.error(err)\n    })\n  }\n  else if (this.state.packCount<=0) {\n    event.target.setAttribute(\"disabled\", \"disabled\");\n  }\n  \n\n  \n  \n  }\n  \n\n  }\n  ",["48","49"],"/Users/Masood/OneDrive/Maynooth_4thYear_Hdip/Software Project/team-willow/react-app/src/login/Register.js",["50","51","52","53","54"],[],"import React, { Component } from 'react';\nimport swal from 'sweetalert';\nimport { Button, TextField, Link } from '@material-ui/core';\nconst axios = require('axios');\n\nexport default class Register extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      password: '',\n      confirm_password: '',\n      error: false\n    };\n\n    this.onChange = this.onChange.bind(this);\n    this.validate = this.validate.bind(this);\n    this.register= this.register.bind(this);\n  }\n\n  onChange = (e) => {\n\n \n  \n    this.setState({ [e.target.name]: e.target.value });\n    this.validate();\n\n  \n  }\n \n\n  //validation \n  validate () {\n\n\n      if(this.state.username.length < 4) {\n       this.setState({error: true});\n      }\n      else {\n        this.setState({error: false});\n      }\n \n      if(this.state.password.length < 6) {\n        this.setState({error: true});\n       }\n       else {\n        this.setState({error: false});\n       }\n\n       if(this.state.confirm_password.length < 6) {\n        this.setState({error: true});\n       }\n       else {\n        this.setState({error: false});\n       }\n\n       console.log(this.state.error);\n  \n  \n \n  }\n  \n  // register by sending the username and password in a POST request to the /auth/register endpoint\n  register = (e) => {\n\n\n\n\n    console.log(this.state.error);\n    if(this.state.error === false && this.state.password ===this.state.confirm_password) {\n      axios.post('http://localhost:8001/auth/register', {\n        username: this.state.username,\n        password: this.state.password,\n      }).then((res) => {\n        swal({\n          text: res.data.title,\n          icon: \"success\",\n          type: \"success\"\n        });\n        window.location.replace(\"/login\");\n      }).catch((err) => {\n        swal({\n          text: err.response.data.errorMessage,\n          icon: \"error\"\n        });\n      });\n    }\n    else if(this.state.confirm_password !== this.state.password && this.state.error === true) {\n      swal({\n        text: \"Please correct errors\",\n        icon: \"error\"\n      });\n    }\n    else if(this.state.confirm_password !== this.state.password && this.state.error === false) {\n      swal({\n        text: \"Please confirm password\",\n        icon: \"error\"\n      });\n    }\n    else {\n      swal({\n        text: \"Please correct errors\",\n        icon: \"error\"\n        \n      });\n    }\n   \n  }\n\n  render() {\n    return (\n        <div className = \"Register\">\n        \n            <h1>Register</h1>\n        \n\n          <div>\n            <TextField\n              \n                type=\"text\"\n                autoComplete=\"off\"\n                name=\"username\"\n                value={this.state.username}\n                onChange={this.onChange}\n                placeholder=\"User Name\"\n                required\n            \n                error={this.state.error}\n                helperText={this.state.error == false ? '' : `Minimum 4 length`}\n             \n            />\n            <br /><br />\n            <TextField\n              \n                type=\"password\"\n                autoComplete=\"off\"\n                name=\"password\"\n                value={this.state.password}\n                onChange={this.onChange}\n                placeholder=\"Password\"\n                required\n                error={this.state.error}\n                helperText={this.state.error == false ? '' : `Minimum 6 length`}\n                \n            />\n            <br /><br />\n            <TextField\n              \n                type=\"password\"\n                autoComplete=\"off\"\n                name=\"confirm_password\"\n                value={this.state.confirm_password}\n                onChange={this.onChange}\n                placeholder=\"Confirm Password\"\n                required\n                error={this.state.error}\n                helperText={this.state.error === false ? '' : `Minimum 6 length`}\n                \n            />\n            <br /><br />\n            <Button\n                className=\"button_style\"\n                variant=\"contained\"\n                color=\"primary\"\n                size=\"small\"\n                disabled={this.state.username == '' && this.state.password == ''}\n                onClick={this.register}\n            >\n              Register\n            </Button> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n            <Link href=\"/\">\n              Login\n            </Link>\n          </div>\n        </div>\n    );\n  }\n}\n","/Users/Masood/OneDrive/Maynooth_4thYear_Hdip/Software Project/team-willow/react-app/src/login/Login.js",["55","56","57"],[],"import React, { Component } from 'react';\nimport swal from 'sweetalert';\nimport { Button, TextField, Link } from '@material-ui/core';\nimport axios from \"axios\";\nconst bcrypt = require('bcryptjs');\nvar salt = bcrypt.genSaltSync(10);\n\n\n\n//component that displays the Login functionality\nexport default class Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      password: ''\n    };\n\n    this.onChange = this.onChange.bind(this);\n    this.logIn = this.logIn.bind(this);\n  }\n\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\n\n\n  // login using username and password by sending a post request to the /auth/login endpoint\n  logIn = () => {\n\n    const pwd = bcrypt.hashSync(this.state.password, salt);\n\n    axios.post('http://localhost:8001/auth/login', {\n      username: this.state.username,\n      password: pwd,\n    }).then((res) => {\n      localStorage.setItem('token', res.data.token);\n      swal({\n        text: res.data.title,\n        icon: \"success\",\n        type: \"success\"\n      });\n      window.location.replace(\"/\");\n\n  \n\n    }).catch((err) => {\n      if (err.response && err.response.data && err.response.data.errorMessage) {\n        localStorage.clear();\n        swal({\n          text: err.response.data.errorMessage,\n          icon: \"error\",\n        });\n      }\n    });\n  }\n\n  render() {\n    return (\n        <div className = \"Login\">\n          <div>\n            <h1>Login</h1>\n          </div>\n\n          <div>\n            <TextField\n                id=\"standard-basic\"\n                type=\"text\"\n                autoComplete=\"off\"\n                name=\"username\"\n                value={this.state.username}\n                onChange={this.onChange}\n                placeholder=\"User Name\"\n                required\n            />\n            <br /><br />\n            <TextField\n                id=\"standard-basic\"\n                type=\"password\"\n                autoComplete=\"off\"\n                name=\"password\"\n                value={this.state.password}\n                onChange={this.onChange}\n                placeholder=\"Password\"\n                required\n            />\n            <br /><br />\n            <Button\n                className=\"button_style\"\n                variant=\"contained\"\n                color=\"primary\"\n                size=\"small\"\n                disabled={this.state.username == '' && this.state.password == ''}\n                onClick={this.logIn}\n            >\n              Login\n            </Button> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n            <Link href=\"/register\">\n              Register\n            </Link>\n          </div>\n        </div>\n    );\n  }\n}\n",{"ruleId":"58","replacedBy":"59"},{"ruleId":"60","replacedBy":"61"},{"ruleId":"62","severity":1,"message":"63","line":4,"column":18,"nodeType":"64","messageId":"65","endLine":4,"endColumn":26},{"ruleId":"62","severity":1,"message":"66","line":6,"column":10,"nodeType":"64","messageId":"65","endLine":6,"endColumn":16},{"ruleId":"62","severity":1,"message":"67","line":6,"column":18,"nodeType":"64","messageId":"65","endLine":6,"endColumn":27},{"ruleId":"68","severity":1,"message":"69","line":40,"column":14,"nodeType":"70","messageId":"71","endLine":40,"endColumn":16},{"ruleId":"72","severity":1,"message":"73","line":40,"column":26,"nodeType":"74","messageId":"75","endLine":40,"endColumn":28},{"ruleId":"72","severity":1,"message":"73","line":40,"column":41,"nodeType":"74","messageId":"75","endLine":40,"endColumn":43},{"ruleId":"68","severity":1,"message":"76","line":40,"column":63,"nodeType":"70","messageId":"71","endLine":40,"endColumn":65},{"ruleId":"77","severity":1,"message":"78","line":93,"column":3,"nodeType":"79","messageId":"80","endLine":95,"endColumn":4},{"ruleId":"77","severity":1,"message":"78","line":108,"column":3,"nodeType":"79","messageId":"80","endLine":110,"endColumn":4},{"ruleId":"68","severity":1,"message":"69","line":38,"column":14,"nodeType":"70","messageId":"71","endLine":38,"endColumn":16},{"ruleId":"81","severity":1,"message":"82","line":87,"column":16,"nodeType":"83","endLine":87,"endColumn":155},{"ruleId":"81","severity":1,"message":"82","line":88,"column":17,"nodeType":"83","endLine":88,"endColumn":157},{"ruleId":"68","severity":1,"message":"69","line":100,"column":34,"nodeType":"70","messageId":"71","endLine":100,"endColumn":36},{"ruleId":"58","replacedBy":"84"},{"ruleId":"60","replacedBy":"85"},{"ruleId":"62","severity":1,"message":"86","line":1,"column":17,"nodeType":"64","messageId":"65","endLine":1,"endColumn":26},{"ruleId":"68","severity":1,"message":"76","line":129,"column":46,"nodeType":"70","messageId":"71","endLine":129,"endColumn":48},{"ruleId":"68","severity":1,"message":"76","line":143,"column":46,"nodeType":"70","messageId":"71","endLine":143,"endColumn":48},{"ruleId":"68","severity":1,"message":"76","line":166,"column":47,"nodeType":"70","messageId":"71","endLine":166,"endColumn":49},{"ruleId":"68","severity":1,"message":"76","line":166,"column":76,"nodeType":"70","messageId":"71","endLine":166,"endColumn":78},{"ruleId":"62","severity":1,"message":"86","line":1,"column":17,"nodeType":"64","messageId":"65","endLine":1,"endColumn":26},{"ruleId":"68","severity":1,"message":"76","line":91,"column":47,"nodeType":"70","messageId":"71","endLine":91,"endColumn":49},{"ruleId":"68","severity":1,"message":"76","line":91,"column":76,"nodeType":"70","messageId":"71","endLine":91,"endColumn":78},"no-native-reassign",["87"],"no-negated-in-lhs",["88"],"no-unused-vars","'Redirect' is defined but never used.","Identifier","unusedVar","'Navbar' is defined but never used.","'Container' is defined but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","no-mixed-operators","Unexpected mix of '||' and '&&'. Use parentheses to clarify the intended order of operations.","LogicalExpression","unexpectedMixedOperator","Expected '===' and instead saw '=='.","no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement",["87"],["88"],"'Component' is defined but never used.","no-global-assign","no-unsafe-negation"]