{"ast":null,"code":"var _jsxFileName = \"/Users/Masood/OneDrive/Maynooth_4thYear_Hdip/Software Project/team-willow/react-app/src/CardPacks.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class CardPacks extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cardPack: [],\n      packCount: 0\n    };\n    this.openPack = this.openPack.bind(this);\n    this.onHover = this.onHover.bind(this);\n    this.onLeaveHover = this.onLeaveHover.bind(this);\n    this.onClick = this.onClick.bind(this);\n  }\n\n  componentDidMount() {\n    fetch(\"http://127.0.0.1:8001/packcount\").then(res => res.json()).then(result => {\n      this.setState({\n        packCount: result\n      });\n      console.log(this.state.packCount);\n\n      if (this.state.packCount <= 0) {\n        document.getElementById(\"btn-packopen\").setAttribute(\"disabled\", \"disabled\");\n      }\n    }, error => {});\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"CardPacks\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cardpack-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Buy Card Packs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"btn-packopen\",\n          onClick: this.openPack,\n          children: \"Open Card Pack\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cards-container\",\n          children: this.state.cardPack.map((i, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `card`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              id: index,\n              className: `card-content ${i.rarity}`,\n              onMouseEnter: () => this.onHover(index),\n              onMouseLeave: () => this.onLeaveHover(index),\n              onClick: () => this.onClick(index),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `cardframe back`,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"back-icon\",\n                  src: \"https://uploads.codesandbox.io/uploads/user/adb5b6ff-3d37-4b52-b8d5-25098bc45d0a/DoYE-back_icon.png \",\n                  width: \"200px\",\n                  alt: \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 61,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                id: index + \"Front\",\n                className: `cardframe front ${i.name}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cardtop white\",\n                  children: [i.rarity, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 76,\n                    columnNumber: 34\n                  }, this), i.name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cardmid white\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"front-icon\",\n                    src: \"https://raw.githubusercontent.com/Bleacheddata/team-willow/4c8078c552029b1113077c393bce2b10f59d87de/src/images/generatorIcon.svg\",\n                    width: \"120px\",\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 80,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"power white\",\n                  children: [\" \", i.power, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 21\n                }, this)]\n              }, index + \"Front\", true, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 10\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this);\n  }\n\n  onHover(id) {\n    let card = document.getElementById(id);\n    card.classList.add(\"hover\");\n  }\n\n  onLeaveHover(id) {\n    let card = document.getElementById(id);\n    card.classList.remove(\"hover\");\n  }\n\n  onClick(id) {\n    let card = document.getElementById(id);\n    card.classList.remove(\"hover\");\n    card.classList.add(\"rotate\");\n  } // openPack(event) {\n  //   if(this.state.packCount>=1) {\n  //     fetch(\"http://127.0.0.1:8001/cardpack\")\n  //     .then(res => res.json())\n  //     .then(\n  //       (result) => {\n  //         this.setState({\n  //           cardPack: result.concat()\n  //         });\n  //         console.log(this.state.cardPack);\n  //         this.setState({packCount: this.state.packCount-1});\n  //       },\n  //       (error) => {\n  //         this.setState({\n  //           cardPack: []\n  //         });\n  //       }\n  //     )\n  //   } \n  //   else if (this.state.packCount<=0) {\n  //     event.target.setAttribute(\"disabled\", \"disabled\");\n  //   }\n  // }\n\n\n  async openPack(event) {\n    if (this.state.packCount >= 1) {\n      await axios({\n        method: 'put',\n        url: 'http://127.0.0.1:8001/cardpac',\n        data: {\n          token: localStorage.getItem(\"token\")\n        }\n      }).then(response => {\n        this.setState({\n          cardPack: response.data.concat()\n        });\n      }).catch(function (err) {\n        console.log(err.toJSON());\n      });\n    } else if (this.state.packCount <= 0) {\n      event.target.setAttribute(\"disabled\", \"disabled\");\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/Masood/OneDrive/Maynooth_4thYear_Hdip/Software Project/team-willow/react-app/src/CardPacks.js"],"names":["React","axios","CardPacks","Component","constructor","props","state","cardPack","packCount","openPack","bind","onHover","onLeaveHover","onClick","componentDidMount","fetch","then","res","json","result","setState","console","log","document","getElementById","setAttribute","error","render","map","i","index","rarity","name","power","id","card","classList","add","remove","event","method","url","data","token","localStorage","getItem","response","concat","catch","err","toJSON","target"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AACA,eAAe,MAAMC,SAAN,SAAwBF,KAAK,CAACG,SAA9B,CAAwC;AACnDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAG,EADA;AAEXC,MAAAA,SAAS,EAAE;AAFA,KAAb;AAMA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKC,OAAL,GAAe,KAAKA,OAAL,CAAaD,IAAb,CAAkB,IAAlB,CAAf;AACA,SAAKE,YAAL,GAAoB,KAAKA,YAAL,CAAkBF,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKG,OAAL,GAAe,KAAKA,OAAL,CAAaH,IAAb,CAAkB,IAAlB,CAAf;AACD;;AAEAI,EAAAA,iBAAiB,GAAG;AAEjBC,IAAAA,KAAK,CAAC,iCAAD,CAAL,CACCC,IADD,CACMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADb,EAECF,IAFD,CAGGG,MAAD,IAAY;AACV,WAAKC,QAAL,CAAc;AACZZ,QAAAA,SAAS,EAAEW;AADC,OAAd;AAGAE,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKhB,KAAL,CAAWE,SAAvB;;AACA,UAAG,KAAKF,KAAL,CAAWE,SAAX,IAAsB,CAAzB,EAA4B;AAC1Be,QAAAA,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCC,YAAxC,CAAqD,UAArD,EAAiE,UAAjE;AACD;AACF,KAXH,EAYGC,KAAD,IAAW,CAEV,CAdH;AAqBH;;AAEDC,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,6BAEC;AAAK,QAAA,SAAS,EAAG,kBAAjB;AAAA,gCACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADA,eAEC;AAAQ,UAAA,EAAE,EAAG,cAAb;AAA4B,UAAA,OAAO,EAAE,KAAKlB,QAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFD,eAGC;AAAK,UAAA,SAAS,EAAC,iBAAf;AAAA,oBACG,KAAKH,KAAL,CAAWC,QAAX,CAAoBqB,GAApB,CAAwB,CAACC,CAAD,EAAIC,KAAJ,kBACvB;AAAK,YAAA,SAAS,EAAG,MAAjB;AAAA,mCACE;AACE,cAAA,EAAE,EAAEA,KADN;AAEE,cAAA,SAAS,EAAG,gBAAeD,CAAC,CAACE,MAAO,EAFtC;AAGE,cAAA,YAAY,EAAE,MAAM,KAAKpB,OAAL,CAAamB,KAAb,CAHtB;AAIE,cAAA,YAAY,EAAE,MAAM,KAAKlB,YAAL,CAAkBkB,KAAlB,CAJtB;AAKE,cAAA,OAAO,EAAE,MAAM,KAAKjB,OAAL,CAAaiB,KAAb,CALjB;AAAA,sCAOE;AAAK,gBAAA,SAAS,EAAG,gBAAjB;AAAA,uCACE;AACE,kBAAA,SAAS,EAAC,WADZ;AAEE,kBAAA,GAAG,EAAC,sGAFN;AAIE,kBAAA,KAAK,EAAC,OAJR;AAKE,kBAAA,GAAG,EAAC;AALN;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAPF,eAiBE;AAEE,gBAAA,EAAE,EAAEA,KAAK,GAAG,OAFd;AAGE,gBAAA,SAAS,EAAG,mBAAkBD,CAAC,CAACG,IAAK,EAHvC;AAAA,wCAKE;AAAK,kBAAA,SAAS,EAAC,eAAf;AAAA,6BACGH,CAAC,CAACE,MADL,oBACa;AAAA;AAAA;AAAA;AAAA,0BADb,EAEGF,CAAC,CAACG,IAFL;AAAA;AAAA;AAAA;AAAA;AAAA,wBALF,eASE;AAAK,kBAAA,SAAS,EAAC,eAAf;AAAA,yCACE;AACE,oBAAA,SAAS,EAAC,YADZ;AAEE,oBAAA,GAAG,EAAC,kIAFN;AAGE,oBAAA,KAAK,EAAC,OAHR;AAIE,oBAAA,GAAG,EAAC;AAJN;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,wBATF,eAkBE;AAAK,kBAAA,SAAS,EAAC,aAAf;AAAA,kCAA+BH,CAAC,CAACI,KAAjC;AAAA;AAAA;AAAA;AAAA;AAAA,wBAlBF;AAAA,iBACOH,KAAK,GAAG,OADf;AAAA;AAAA;AAAA;AAAA,sBAjBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADD;AADH;AAAA;AAAA;AAAA;AAAA,gBAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AAFD;AAAA;AAAA;AAAA;AAAA,YADF;AAsDD;;AAGDnB,EAAAA,OAAO,CAACuB,EAAD,EAAK;AACV,QAAIC,IAAI,GAAGZ,QAAQ,CAACC,cAAT,CAAwBU,EAAxB,CAAX;AACAC,IAAAA,IAAI,CAACC,SAAL,CAAeC,GAAf,CAAmB,OAAnB;AACD;;AACDzB,EAAAA,YAAY,CAACsB,EAAD,EAAK;AACf,QAAIC,IAAI,GAAGZ,QAAQ,CAACC,cAAT,CAAwBU,EAAxB,CAAX;AACAC,IAAAA,IAAI,CAACC,SAAL,CAAeE,MAAf,CAAsB,OAAtB;AACD;;AACDzB,EAAAA,OAAO,CAACqB,EAAD,EAAK;AACV,QAAIC,IAAI,GAAGZ,QAAQ,CAACC,cAAT,CAAwBU,EAAxB,CAAX;AACAC,IAAAA,IAAI,CAACC,SAAL,CAAeE,MAAf,CAAsB,OAAtB;AACAH,IAAAA,IAAI,CAACC,SAAL,CAAeC,GAAf,CAAmB,QAAnB;AACD,GA9GkD,CAgHnD;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAGA;AACA;AACA;AAGA;;;AAGc,QAAR5B,QAAQ,CAAC8B,KAAD,EAAQ;AAEpB,QAAG,KAAKjC,KAAL,CAAWE,SAAX,IAAsB,CAAzB,EAA4B;AAC5B,YAAMP,KAAK,CAAC;AACVuC,QAAAA,MAAM,EAAE,KADE;AAEVC,QAAAA,GAAG,EAAE,+BAFK;AAGVC,QAAAA,IAAI,EAAE;AACFC,UAAAA,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB;AADL;AAHI,OAAD,CAAL,CAML7B,IANK,CAMC8B,QAAD,IAAc;AACpB,aAAK1B,QAAL,CAAc;AACTb,UAAAA,QAAQ,EAAEuC,QAAQ,CAACJ,IAAT,CAAcK,MAAd;AADD,SAAd;AAID,OAXO,EAWLC,KAXK,CAWC,UAAUC,GAAV,EAAe;AACtB5B,QAAAA,OAAO,CAACC,GAAR,CAAY2B,GAAG,CAACC,MAAJ,EAAZ;AACD,OAbO,CAAN;AAgBH,KAjBG,MAmBC,IAAI,KAAK5C,KAAL,CAAWE,SAAX,IAAsB,CAA1B,EAA6B;AAC5B+B,MAAAA,KAAK,CAACY,MAAN,CAAa1B,YAAb,CAA0B,UAA1B,EAAsC,UAAtC;AACD;AAEF;;AAzKkD","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nexport default class CardPacks extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        cardPack:  [],\n        packCount: 0\n      };\n  \n    \n      this.openPack = this.openPack.bind(this);\n      this.onHover = this.onHover.bind(this);\n      this.onLeaveHover = this.onLeaveHover.bind(this);\n      this.onClick = this.onClick.bind(this);\n    }\n\n     componentDidMount() {\n  \n        fetch(\"http://127.0.0.1:8001/packcount\")\n        .then(res => res.json())\n        .then(\n          (result) => {\n            this.setState({\n              packCount: result\n            });\n            console.log(this.state.packCount);\n            if(this.state.packCount<=0) {\n              document.getElementById(\"btn-packopen\").setAttribute(\"disabled\", \"disabled\");\n            }\n          },\n          (error) => {\n           \n          }\n        )\n\n        \n       \n      \n      \n    }\n    \n    render() {\n      return (\n        <div className=\"CardPacks\">\n         \n         <div className = \"cardpack-buttons\">\n         <button>Buy Card Packs</button>\n          <button id = \"btn-packopen\" onClick={this.openPack}>Open Card Pack</button>\n          <div className=\"cards-container\">\n            {this.state.cardPack.map((i, index) => (\n              <div className={`card`}>\n                <div\n                  id={index}\n                  className={`card-content ${i.rarity}`}\n                  onMouseEnter={() => this.onHover(index)}\n                  onMouseLeave={() => this.onLeaveHover(index)}\n                  onClick={() => this.onClick(index)}\n                >\n                  <div className={`cardframe back`}>\n                    <img\n                      className=\"back-icon\"\n                      src=\"https://uploads.codesandbox.io/uploads/user/adb5b6ff-3d37-4b52-b8d5-25098bc45d0a/DoYE-back_icon.png\n              \"\n                      width=\"200px\"\n                      alt=\"\"\n                    />\n                  </div>\n  \n                  <div\n                    key={index + \"Front\"}\n                    id={index + \"Front\"}\n                    className={`cardframe front ${i.name}`}\n                  >\n                    <div className=\"cardtop white\">\n                      {i.rarity} <br />\n                      {i.name}\n                    </div>\n                    <div className=\"cardmid white\">\n                      <img\n                        className=\"front-icon\"\n                        src=\"https://raw.githubusercontent.com/Bleacheddata/team-willow/4c8078c552029b1113077c393bce2b10f59d87de/src/images/generatorIcon.svg\"\n                        width=\"120px\"\n                        alt=\"\"\n                      />\n                    </div>\n  \n                    <div className=\"power white\"> {i.power} </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n         </div>\n         \n      );\n    }\n  \n    \n    onHover(id) {\n      let card = document.getElementById(id);\n      card.classList.add(\"hover\");\n    }\n    onLeaveHover(id) {\n      let card = document.getElementById(id);\n      card.classList.remove(\"hover\");\n    }\n    onClick(id) {\n      let card = document.getElementById(id);\n      card.classList.remove(\"hover\");\n      card.classList.add(\"rotate\");\n    }\n  \n    // openPack(event) {\n    //   if(this.state.packCount>=1) {\n\n    //     fetch(\"http://127.0.0.1:8001/cardpack\")\n    //     .then(res => res.json())\n    //     .then(\n    //       (result) => {\n    //         this.setState({\n    //           cardPack: result.concat()\n    //         });\n    //         console.log(this.state.cardPack);\n    //         this.setState({packCount: this.state.packCount-1});\n    //       },\n    //       (error) => {\n    //         this.setState({\n    //           cardPack: []\n    //         });\n    //       }\n\n        \n    //     )\n    //   } \n\n      \n    //   else if (this.state.packCount<=0) {\n    //     event.target.setAttribute(\"disabled\", \"disabled\");\n    //   }\n    \n  \n    // }\n\n\n    async openPack(event) {\n\n      if(this.state.packCount>=1) {\n      await axios({\n        method: 'put',\n        url: 'http://127.0.0.1:8001/cardpac',\n        data: {\n            token: localStorage.getItem(\"token\")\n        }\n    }).then((response) => {\n      this.setState({\n           cardPack: response.data.concat()\n        \n      });\n    }).catch(function (err) {\n      console.log(err.toJSON());\n    });\n   \n     \n  }\n\n  else if (this.state.packCount<=0) {\n        event.target.setAttribute(\"disabled\", \"disabled\");\n      }\n   \n    }\n  }\n  "]},"metadata":{},"sourceType":"module"}